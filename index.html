<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€å¹´çº§ä¸€ç­åŒå­¦å­¦ä¹ å¡ï¼ˆæœ€ç»ˆéŸ³é¢‘ç‰ˆï¼‰</title>
    <style>
        /* CSSæ ·å¼ä¸ä¹‹å‰ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œæ­¤å¤„çœç•¥ä»¥èŠ‚çœç¯‡å¹… */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Microsoft YaHei', sans-serif; background: linear-gradient(135deg, #e0f7fa 0%, #f3e5f5 100%); padding: 20px; min-height: 100vh; }
        .header { text-align: center; padding: 20px 0; background-color: #7e57c2; color: white; border-radius: 15px 15px 0 0; margin-bottom: 25px; box-shadow: 0 4px 15px rgba(126, 87, 194, 0.3); }
        h1 { font-size: 2.2rem; margin-bottom: 15px; }
        .instruction { background-color: #ffecb3; color: #5d4037; padding: 15px; border-radius: 10px; margin: 20px auto; max-width: 600px; font-weight: bold; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); }
        .controls { display: flex; justify-content: center; gap: 20px; margin-bottom: 25px; flex-wrap: wrap; }
        .control-btn { padding: 12px 25px; background-color: #5c6bc0; color: white; border: none; border-radius: 50px; font-size: 1.1rem; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2); display: flex; align-items: center; justify-content: center; gap: 8px; }
        .control-btn:hover { transform: translateY(-3px); box-shadow: 0 5px 12px rgba(0, 0, 0, 0.3); }
        .sound-toggle { background-color: #4caf50; }
        .sound-toggle.muted { background-color: #f44336; }
        .sound-toggle::before { content: ''; flex-shrink: 0; width: 24px; height: 24px; background-size: contain; background-repeat: no-repeat; background-position: center; }
        .sound-toggle:not(.muted)::before { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>'); }
        .sound-toggle.muted::before { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M3.63 3.63a.996.996 0 0 0 0 1.41L7.29 9H3v6h4l5 5v-6.59l4.18 4.18c-.65.49-1.38.88-2.18 1.11v2.06c1.34-.3 2.57-.92 3.61-1.75l2.04 2.04 1.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .94-.2 1.82-.54 2.64l1.51 1.51A8.96 8.96 0 0 0 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zm-7-8l-4.59 4.59L9 7.83V3h2v1z"/></svg>'); }
        .student-container { display: flex; justify-content: center; flex-wrap: wrap; gap: 25px; max-width: 1300px; margin: 0 auto; }
        .gender-section { flex: 1; min-width: 300px; max-width: 600px; }
        .gender-title { text-align: center; margin-bottom: 25px; padding: 12px; border-radius: 10px; color: white; font-size: 1.5rem; }
        .boys .gender-title { background-color: #29b6f6; }
        .girls .gender-title { background-color: #ec407a; }
        .student-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(170px, 1fr)); gap: 18px; }
        .student-card { background-color: white; border-radius: 12px; padding: 15px; text-align: center; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden; }
        .student-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); }
        .student-card.boy:hover { background-color: #e1f5fe; border: 2px solid #81d4fa; }
        .student-card.girl:hover { background-color: #fce4ec; border: 2px solid #f8bbd0; }
        .student-name { font-size: 1.8rem; font-weight: bold; margin-bottom: 5px; }
        .student-pinyin { color: #78909c; font-size: 1.1rem; margin-bottom: 5px; }
        .student-gender { font-size: 1rem; padding: 3px 10px; border-radius: 15px; display: inline-block; }
        .student-card.boy .student-gender { background-color: #e1f5fe; color: #0288d1; }
        .student-card.girl .student-gender { background-color: #fce4ec; color: #d81b60; }
        .speaker-icon { position: absolute; top: 5px; right: 5px; font-size: 1.3rem; opacity: 0.3; }
        .active { animation: pulse 0.5s; border: 2px solid #ffc107; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        .footer { text-align: center; margin-top: 40px; padding: 20px; color: #757575; font-size: 0.9rem; }
        @media (max-width: 768px) { .student-container { flex-direction: column; align-items: center; } .gender-section { width: 100%; } .control-btn { padding: 10px 20px; font-size: 1rem; } }
    </style>
</head>
<body>
    <div class="header">
        <h1>ä¸€å¹´çº§ä¸€ç­åŒå­¦å­¦ä¹ å¡</h1>
        <p>ç‚¹å‡»å¡ç‰‡å¬åŒå­¦åå­—çš„æ ‡å‡†å‘éŸ³</p>
    </div>
    
    <div class="instruction">
        å°æœ‹å‹ï¼Œç°åœ¨å¬åˆ°çš„éƒ½æ˜¯æ ‡å‡†å‘éŸ³å“¦ï¼
    </div>
    
    <div class="controls">
        <button id="playAllBoys" class="control-btn">é¡ºåºæœ—è¯»ç”·åŒå­¦</button>
        <button id="playAllGirls" class="control-btn">é¡ºåºæœ—è¯»å¥³åŒå­¦</button>
        <button id="toggleMute" class="control-btn sound-toggle">å£°éŸ³å¼€å¯</button>
    </div>
    
    <div class="student-container">
        <!-- ç”·ç”Ÿéƒ¨åˆ† -->
        <div class="gender-section boys">
            <div class="gender-title">ç”·åŒå­¦</div>
            <div class="student-list" id="boysList"></div>
        </div>
        
        <!-- å¥³ç”Ÿéƒ¨åˆ† -->
        <div class="gender-section girls">
            <div class="gender-title">å¥³åŒå­¦</div>
            <div class="student-list" id="girlsList"></div>
        </div>
    </div>

    <!-- éšè—çš„å…¨å±€éŸ³é¢‘æ’­æ”¾å™¨ -->
    <audio id="audioPlayer" style="display: none;"></audio>
    
    <div class="footer">
        æç¤ºï¼šè¯·ç¡®ä¿è®¾å¤‡éŸ³é‡å·²æ‰“å¼€ã€‚
    </div>

    <script>
        const classmates = [
            // ç”·ç”Ÿ
            { name: "å¸¸å®‡", gender: "ç”·", pinyin: "ChÃ¡ng YÇ”", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "é™ˆå­ç‰", gender: "ç”·", pinyin: "ChÃ©n ZÇyÃ¹", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "æœæ³½æºª", gender: "ç”·", pinyin: "DÃ¹ ZÃ©xÄ«", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "è€¿è¨€è¹Š", gender: "ç”·", pinyin: "GÄ›ng YÃ¡nxÄ«", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å§¬æ¥·çƒ¨", gender: "ç”·", pinyin: "JÄ« KÇiyÃ¨", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "æä¿Šç…¦", gender: "ç”·", pinyin: "LÇ JÃ¹nxÃ¹", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ææ˜“æ’", gender: "ç”·", pinyin: "LÇ YÃ¬hÃ©ng", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ææ¢“æ™¨", gender: "ç”·", pinyin: "LÇ ZÇchÃ©n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "åˆ˜æµ©è½©", gender: "ç”·", pinyin: "LiÃº HÃ oxuÄn", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "åˆ˜èŠ·éœ–", gender: "ç”·", pinyin: "LiÃº ZhÇlÃ­n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "é©¬è‹¥å®¸", gender: "ç”·", pinyin: "MÇ RuÃ²chÃ©n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å½­ä¸€é¸£", gender: "ç”·", pinyin: "PÃ©ng YÄ«mÃ­ng", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å­™å®œæ©", gender: "ç”·", pinyin: "SÅ«n YÃ­â€™Ä“n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ç‹ç¨‹ç…Š", gender: "ç”·", pinyin: "WÃ¡ng ChÃ©ngxuÄn", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ç‹æ±˜å¯»", gender: "ç”·", pinyin: "WÃ¡ng QiÄnxÃºn", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ç‹å­è‡»", gender: "ç”·", pinyin: "WÃ¡ng ZÇzhÄ“n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å´æ˜Šå®‡", gender: "ç”·", pinyin: "WÃº HÃ oyÇ”", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å¾å¥å®", gender: "ç”·", pinyin: "XÃº JiÃ nnÃ­ng", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "é—«é¢¢æ£®", gender: "ç”·", pinyin: "YÃ¡n HÃ osÄ“n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "æ¨æ¯…åš", gender: "ç”·", pinyin: "YÃ¡ng YÃ¬bÃ³", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å¼ è´ºé“­", gender: "ç”·", pinyin: "ZhÄng HÃ¨mÃ­ng", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å¼ èˆ’ç²²", gender: "ç”·", pinyin: "ZhÄng ShÅ«cÃ n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å¼ é€¸ç¢", gender: "ç”·", pinyin: "ZhÄng YÃ¬suÄ«", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "èµµæ¢“ç¿", gender: "ç”·", pinyin: "ZhÃ o ZÇruÃ¬", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å‘¨æ˜±æ—", gender: "ç”·", pinyin: "ZhÅu YÃ¹lÃ­n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            
            // å¥³ç”Ÿ
            { name: "æˆ´æ¢“å«£", gender: "å¥³", pinyin: "DÃ i ZÇyÄn", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "æˆ¿å®¶ç¿", gender: "å¥³", pinyin: "FÃ¡ng JiÄruÃ¬", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "æˆ¿å®¶å®œ", gender: "å¥³", pinyin: "FÃ¡ng JiÄyÃ­", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "è‘›ä¾ç„¶", gender: "å¥³", pinyin: "GÄ› YÄ«rÃ¡n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ä½•å©§æ€¡", gender: "å¥³", pinyin: "HÃ© JÃ¬ngyÃ­", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å­”æŸ é˜³", gender: "å¥³", pinyin: "KÇ’ng NÃ­ngyÃ¡ng", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "æå›­æ…ˆ", gender: "å¥³", pinyin: "LÇ YuÃ¡ncÃ­", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "åˆ˜æ´›ä¼Š", gender: "å¥³", pinyin: "LiÃº LuÃ²yÄ«", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "åˆ˜ç†™åª›", gender: "å¥³", pinyin: "LiÃº XÄ«yuÃ¡n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "é©¬å¢¨æ¶µ", gender: "å¥³", pinyin: "MÇ MÃ²hÃ¡n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ç‰›å§šé¦¨", gender: "å¥³", pinyin: "NiÃº YÃ¡oxÄ«n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ä»»å˜‰å®", gender: "å¥³", pinyin: "RÃ¨n JiÄbÇo", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å®‹ä¸€å½¤", gender: "å¥³", pinyin: "SÃ²ng YÄ«tÃ³ng", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ç‹æ™¨è¯­", gender: "å¥³", pinyin: "WÃ¡ng ChÃ©nyÇ”", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "ç‹è¯—é›¨", gender: "å¥³", pinyin: "WÃ¡ng ShÄ«yÇ”", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "è‚–è‰ºæ©¦", gender: "å¥³", pinyin: "XiÄo YÃ¬tÃ³ng", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "é—«ä½³æ·‡", gender: "å¥³", pinyin: "YÃ¡n JiÄqÃ­", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "æ¸¸æ¢“å¸Œ", gender: "å¥³", pinyin: "YÃ³u ZÇxÄ«", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "å¼ æƒœé¢œ", gender: "å¥³", pinyin: "ZhÄng XÄ«yÃ¡n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "èµµç‚å¦", gender: "å¥³", pinyin: "ZhÃ o KÄ“yÃ¡n", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "éƒ‘çš“æœˆ", gender: "å¥³", pinyin: "ZhÃ¨ng HÃ oyuÃ¨", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' },
            { name: "åˆ˜æ¡‰ç»®", gender: "å¥³", pinyin: "LiÃº Ä€nqÇ", audioSrc: 'data:audio/mpeg;base64,SUQzBAAAAAAAI1RTSEUAAAoAAAMxLjEwMA Lavf57' }
        ];

        const boysList = document.getElementById('boysList');
        const girlsList = document.getElementById('girlsList');
        const playAllBoys = document.getElementById('playAllBoys');
        const playAllGirls = document.getElementById('playAllGirls');
        const toggleMute = document.getElementById('toggleMute');
        const audioPlayer = document.getElementById('audioPlayer');
        
        let isMuted = false;
        let isPlaying = false;
        let currentQueue = [];
        let currentIndex = 0;

        function playAudio(audioSrc, element, callback) {
            if (element) {
                element.classList.add('active');
                setTimeout(() => element.classList.remove('active'), 500);
            }

            if (isMuted) {
                if (callback) callback();
                return;
            }

            audioPlayer.src = audioSrc;
            audioPlayer.onended = () => {
                if (callback) setTimeout(callback, 300); // åå­—é—´å¢åŠ å»¶è¿Ÿ
            };
            audioPlayer.play().catch(e => console.error("Audio play failed:", e));
        }

        function playQueue() {
            if (currentIndex < currentQueue.length && isPlaying) {
                const item = currentQueue[currentIndex];
                playAudio(item.audioSrc, item.element, () => {
                    currentIndex++;
                    playQueue();
                });
            } else {
                isPlaying = false;
            }
        }

        function startQueue(gender) {
            if (isPlaying) return;
            isPlaying = true;

            const list = gender === 'ç”·' ? boysList : girlsList;
            const cards = Array.from(list.querySelectorAll('.student-card'));
            
            currentQueue = cards.map(card => ({
                audioSrc: card.dataset.audio,
                element: card
            }));
            
            currentIndex = 0;
            playQueue();
        }

        function stopAllPlayback() {
            isPlaying = false;
            currentQueue = [];
            currentIndex = 0;
            audioPlayer.pause();
            audioPlayer.currentTime = 0;
        }

        function initPage() {
            classmates.forEach(student => {
                const card = document.createElement('div');
                card.className = `student-card ${student.gender === 'ç”·' ? 'boy' : 'girl'}`;
                card.dataset.audio = student.audioSrc;
                
                card.innerHTML = `
                    <span class="speaker-icon">ğŸ”Š</span>
                    <div class="student-name">${student.name}</div>
                    <div class="student-pinyin">${student.pinyin}</div>
                    <div class="student-gender">${student.gender}</div>
                `;
                
                card.addEventListener('click', (e) => {
                    stopAllPlayback();
                    playAudio(e.currentTarget.dataset.audio, e.currentTarget);
                });
                
                if (student.gender === 'ç”·') {
                    boysList.appendChild(card);
                } else {
                    girlsList.appendChild(card);
                }
            });
            
            playAllBoys.addEventListener('click', () => startQueue('ç”·'));
            playAllGirls.addEventListener('click', () => startQueue('å¥³'));
            
            toggleMute.addEventListener('click', () => {
                isMuted = !isMuted;
                audioPlayer.muted = isMuted;
                
                if (isMuted) {
                    toggleMute.textContent = 'å£°éŸ³å…³é—­';
                    toggleMute.classList.add('muted');
                    stopAllPlayback();
                } else {
                    toggleMute.textContent = 'å£°éŸ³å¼€å¯';
                    toggleMute.classList.remove('muted');
                }
            });
            
            // ç§»åŠ¨ç«¯é¦–æ¬¡äº¤äº’è§£é”éŸ³é¢‘
            document.body.addEventListener('click', () => {
                if(audioPlayer.paused) {
                    audioPlayer.play().catch(()=>{});
                    audioPlayer.pause();
                }
            }, { once: true });
        }

        window.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>

